---
const cities = ["Medell√≠n", "Bello", "Sabaneta", "La Estrella"];
const { setCity } = Astro.props;
---

<div id="city-popup" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50">
  <div class="bg-white p-6 rounded-lg text-center shadow-lg">
    <h2 class="text-xl font-semibold mb-4">Escolha sua cidade</h2>
    <select id="city-select" class="w-full p-2 border border-gray-300 rounded-md mb-4">
      <option value="" disabled selected>Selecione sua cidade</option>
      {cities.map(city => (
        <option value={city}>{city}</option>
      ))}
    </select>
    <button onclick="handleCityChange()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition">
      Confirmar
    </button>
  </div>
</div>

<script is:inline>
  function handleCityChange() {
    const selectElement = document.getElementById('city-select');
    const selectedCity = selectElement.value;
    setCity(selectedCity);
    document.getElementById('city-popup').style.display = 'none';
  }
</script>
